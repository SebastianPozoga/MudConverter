function MudDomIterator(a){var b,c,d,e,f,g={};return g.DEFAULT_SEPARATOR="\n",b=function(a,c){return a.processChilds(b,c)},c=function(a){var b,c;if(window.DOMParser)b=function(a){return(new window.DOMParser).parseFromString(a,"text/html")};else{if("undefined"==typeof window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))throw"Can not parse xml string: container no support  DOMParser / Microsoft.XMLDOM";b=function(a){var b=new window.ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b}}if(c=b(a),"parsererror"===c.tagName)throw"No parse dom (you should use xml/xhtml syntax)";return c},d=function(a,c){var d,f,h=[],i=e.currentNode;for(c=c?c:g.DEFAULT_SEPARATOR,a=a?a:b,d=0;d<i.childNodes.length;d++)3!=i.childNodes[d].nodeType?"parsererror"!==i.tagName&&(e.currentNode=i.childNodes[d],f=a(e.nodeInterface,c),f.length>0&&h.push(f.join(c))):h.push(i.childNodes[d].nodeValue);return e.currentNode=i,h},f={getTagName:function(){return e.currentNode.nodeName.toLowerCase()},getText:function(){return e.currentNode.innerHTML},getAttr:function(a){return e.currentNode.getAttribute(a)},hasClass:function(a){return(" "+e.currentNode.className+" ").indexOf(" "+a+" ")>-1},processChilds:d},e={currentNode:c(a),nodeInterface:f},g.process=function(a,b){return f.processChilds(a,b).join(g.DEFAULT_SEPARATOR)},g}function MudPatterns(a){var b;return b.replace=function(b,c){a.replace(b,c)},b.simpleTag=function(){a.replace(/(\[)(.*])(\]\()(.*)(\))/g,function(a,b,c,d,e){return'<a href="'+e+'">'+c+"</a>"})},b}function MudMarkdownLang(){var a,b={};return a=function(b,c){var d,e,f,g=b.getTagName();if("h1"===g){for(f="",e=b.processChilds().join(c).replace("\n"," "),d=0;d<e.length;d++)f+="=";return[e+"\n"+f]}if("h2"===g){for(f="",e=b.processChilds().join(c).replace("\n"," "),d=0;d<e.length;d++)f+="-";return[e+"\n"+f]}return"blockquote"===g||"q"===g?["\n> "+b.processChilds().join(c)+"\n"]:"hr"===g?["-----"]:"i"===g?[" * "+b.processChilds().join(c)+" * "]:"b"===g?[" ** "+b.processChilds().join(c)+" ** "]:"code"===g?[" ` "+b.getText()+" ` "]:"a"===g?[" ["+b.getText()+"]("+b.getAttr("href")+") "]:"img"===g?[" !("+b.getAttr("src")+") "]:b.processChilds(a)},b.fromHtml=function(b){var c=MudDomIterator(b);return c.process(a)},b.toHtml=function(a){return a="\n"+a+"\n",a.replace(/(\[)(.*)(\]\()(.*)(\))/g,function(a,b,c,d,e){return'<a href="'+e+'">'+c+"</a>"}).replace(/(\!\()(.*)(\))/g,function(a,b,c){return'<img src="'+c+'" />'}).replace(/(`)(.*)(`)/g,function(a,b,c){return"<code>"+c+"</code>"}).replace(/(\*\*)(.*)(\*\*)/g,function(a,b,c){return"<b>"+c+"</b>"}).replace(/(\*)(.*)(\*)/g,function(a,b,c){return"<i>"+c+"</i>"}).replace(/(\n\n)(\-+)/g,function(){return"<hr />"}).replace(/(\n\>)(.*)(\n)/g,function(a,b,c){return"<q>"+c+"</q>"}).replace(/(\n)(.*)(\n)(\-+)(\n)/g,function(a,b,c){return"<h2>"+c+"</h2>"}).replace(/(\n)(.*)(\n)(\=+)(\n)/g,function(a,b,c){return"<h1>"+c+"</h1>"}).replace(/^[\s\n]+/g,"").replace(/[\s\n]+$/g,"")},b}function MudMarkupLang(){var a,b={};return a=function(b,c){var d,e,f,g=b.getTagName();for(d=1;7>d;d++)if(g==="h"+d){for(f="",e=0;d>e;e++)f+="#";return[f+" "+b.processChilds().join(c).replace("\n"," ")+" "+f]}return"hr"===g?["\n-----\n"]:"i"===g?[" * "+b.processChilds().join(c)+" * "]:"i"===g?[" ** "+b.processChilds().join(c)+" ** "]:"code"===g?[" ` "+b.getText()+" ` "]:"code"===g?[" ` "+b.getText()+" ` "]:b.processChilds(a)},b.fromHtml=function(b){var c=MudDomIterator(b);return c.process(a)},b.toHtml=function(){},b}